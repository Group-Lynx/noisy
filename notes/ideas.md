# Noisy - 叽喳

[toc]

## 简述

一个以聊天室为主的线上聊天网站。用户可以注册登入，查找聊天室，即时聊天。

## 功能

- 用户
  - 注册、登录、登出
  - 个人信息的修改
- 聊天室
  - 查找聊天室
  - 创建聊天室
  - 加入、退出聊天室
  - 聊天室信息

## 规范约定

见 `api.txt` 与 `model.txt`。

## 实现约定

- 用户登录的会话用 Cookie 实现: 添加一个 `(user_uuid, uuid)` 曲奇就行. 如果没有这个曲奇, 或者这个曲奇中的 UUID 不在数据库中, 则认定为未登录
- 所有的页面, 除了 `/auth/login` 和 `/auth/signup`, 都应该先验证用户会话(检查 Cookie), 如果没登入的话则应返回 401
- `/auth` 路径应当返回 204 如果用户已认证, 401 如果用户未认证
- 即时聊天实现使用 WebSocket, 其它用朴素的 HTTP 协议(RESTful API)
  - 用户登出发生在客户端, 不对应 RESTful API 端口
  - 用户在线状态以 WebSocket 连接状态来判定

## 其它约定

- 用户头像与聊天室头像暂不实现, 但数据库设计应当考虑本部分.
- 未读信息暂不实现, 但数据库设计应当考虑本部分.
- 用户通知暂不实现, 但数据库设计应当考虑本部分.